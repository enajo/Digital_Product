// .devcontainer/devcontainer.json
{
  "name": "QuickDoc Devcontainer",
  "dockerComposeFile": ["../docker-compose.dev.yml"],
  "service": "backend",
  "workspaceFolder": "/app",
  "runServices": ["db", "backend", "frontend"],
  "shutdownAction": "stopCompose",
  "forwardPorts": [5000, 5173],
  "postCreateCommand":
    // only install Python deps here; the Frontend container handles its own npm install
    "pip install -r requirements.txt",
  "postStartCommand":
    // run (or re-run) any pending migrations
    "flask db upgrade",
  "extensions": [
    "ms-azuretools.vscode-docker"
  ]
}
