{
  "name": "QuickDoc Devcontainer",

  // relative path from .devcontainer/ to your compose file
  "dockerComposeFile": ["../docker-compose.dev.yml"],

  // which service VS Code should attach to by default
  "service": "backend",

  // once inside the container, this is your working dir
  "workspaceFolder": "/app",

  // spin up all three services together
  "runServices": ["db", "backend", "frontend"],

  // bring them down on close
  "shutdownAction": "stopCompose",

  // forward both Flask & Vite ports
  "forwardPorts": [5000, 5173],

  // install Python & JS deps after container creation
  "postCreateCommand": "pip install -r backend/requirements.txt && npm install --prefix frontend",

  // once everythingâ€™s up, kick off the frontend dev server
  "postStartCommand": "npm run --prefix frontend dev -- --host 0.0.0.0 --port 5173",

  // get the Docker extension for the Containers view
  "extensions": [
    "ms-azuretools.vscode-docker"
  ]
}
