// .devcontainer/devcontainer.json
{
  "name": "QuickDoc Devcontainer",
  "dockerComposeFile": ["../docker-compose.dev.yml"],
  "service": "backend",
  "workspaceFolder": "/app",            // inside container, /app is your backend folder
  "runServices": ["db", "backend", "frontend"],
  "shutdownAction": "stopCompose",
  "forwardPorts": [5000, 5173],
  "postCreateCommand": 
    // install Python deps (requirements.txt lives at /app) 
    // then JS deps (frontend is one level up in ../frontend)
    "pip install -r requirements.txt && npm install --prefix ../frontend",
  "postStartCommand": 
    // make sure your Alembic tables exist, then start Vite
    "flask db upgrade && npm run --prefix ../frontend dev -- --host 0.0.0.0 --port 5173",
  "extensions": [
    "ms-azuretools.vscode-docker"
  ]
}
