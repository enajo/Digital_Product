{
  "name": "QuickDoc Devcontainer",
  "dockerComposeFile": ["../docker-compose.dev.yml"],
  // ATTACH VS CODE TO THE BACKEND so you land in the Flask container by default
  "service": "backend",
  "workspaceFolder": "/app",
  "runServices": ["db","backend","frontend"],
  "shutdownAction": "stopCompose",
  "forwardPorts": [5000, 5173],
  "postCreateCommand": "pip install -r backend/requirements.txt && npm install --prefix frontend",
  // ‚Üê NEW: once the container is running, immediately run your migrations
  "postStartCommand": "cd /app && flask db upgrade",
  "extensions": [
    "ms-azuretools.vscode-docker"
  ]
}
